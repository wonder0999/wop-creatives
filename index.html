<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Wonder Streaming</title>
  <meta name="description" content="Wonder Streaming — a smooth, professional MP3 player experience." />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg-1:#0f0f12;
      --bg-2:#121318;
      --card:#171922;
      --accent:#1db954; /* Spotify-like green */
      --text:#e8e8ea;
      --muted:#a9abb3;
      --border:#262a36;
      --danger:#ff4d4f;
    }

    *{box-sizing:border-box}
    html,body{
      margin:0;
      padding:0;
      height:100%;
      background:
        radial-gradient(1200px 600px at 15% 10%, #16202b 0%, #121318 40%, #0f0f12 100%),
        linear-gradient(160deg, #121318 0%, #0f0f12 100%);
      color:var(--text);
      font-family:'Inter',system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
    }

    /* App shell */
    .app{
      display:grid;
      grid-template-rows:auto 1fr auto;
      min-height:100vh;
    }

    /* Header */
    header{
      display:flex;
      align-items:center;
      gap:14px;
      padding:18px 22px;
      border-bottom:1px solid var(--border);
      backdrop-filter:saturate(1.2) blur(6px);
      background:linear-gradient(180deg, rgba(18,19,24,0.85), rgba(18,19,24,0.60));
      position:sticky;
      top:0;
      z-index:10;
    }
    .logo{
      width:36px; height:36px;
      display:grid; place-items:center;
      border-radius:10px;
      background:conic-gradient(from 180deg, #1db954, #18a64a, #1db954);
      box-shadow:0 6px 24px rgba(29,185,84,0.25);
    }
    .logo svg{filter:drop-shadow(0 2px 8px rgba(0,0,0,0.35))}
    .brand{
      display:flex; flex-direction:column; line-height:1.1;
    }
    .brand .name{font-weight:700; letter-spacing:0.2px}
    .brand .tag{color:var(--muted); font-size:12px}

    /* Main area */
    main{
      display:grid;
      place-items:center;
      padding:28px 16px 36px;
    }

    .player-card{
      width:min(960px, 92vw);
      border-radius:22px;
      background:
        radial-gradient(800px 300px at 80% 0%, rgba(29,185,84,0.16), transparent 60%),
        linear-gradient(180deg, #171922 0%, #13141b 100%);
      border:1px solid var(--border);
      box-shadow:
        0 40px 100px rgba(0,0,0,0.55),
        inset 0 1px 0 rgba(255,255,255,0.02);
      overflow:hidden;
    }

    /* Upload / drop zone */
    .drop{
      display:grid;
      gap:14px;
      place-items:center;
      padding:38px 22px;
      border-bottom:1px solid var(--border);
      background:
        linear-gradient(180deg, rgba(23,25,34,0.9) 0%, rgba(19,20,27,0.9) 100%);
    }
    .drop-area{
      display:flex; flex-direction:column; align-items:center; gap:12px;
      width:100%;
      max-width:620px;
      padding:26px 22px;
      border:1.5px dashed #2b3144;
      border-radius:16px;
      background:rgba(18,19,24,0.5);
      transition:border-color .25s ease, background .25s ease;
    }
    .drop-area.drag{border-color:var(--accent); background:rgba(29,185,84,0.08)}
    .drop-title{font-weight:600}
    .drop-desc{color:var(--muted); font-size:13px; text-align:center}
    .controls-row{
      display:flex; gap:10px; flex-wrap:wrap; justify-content:center; margin-top:8px;
    }
    .btn{
      appearance:none; border:none; outline:none;
      padding:10px 14px; border-radius:12px;
      background:#202433; color:var(--text);
      font-weight:600; font-size:14px; letter-spacing:0.2px;
      transition:transform .08s ease, background .2s ease, box-shadow .2s ease;
      cursor:pointer;
    }
    .btn:hover{background:#252a3d}
    .btn:active{transform:scale(0.98)}
    .btn-accent{
      background:var(--accent); color:#0d130f;
      box-shadow:0 10px 28px rgba(29,185,84,0.35);
    }
    .btn-accent:hover{filter:brightness(1.05)}
    .btn-ghost{
      background:transparent; border:1px solid var(--border);
      color:var(--muted);
    }

    /* Track info + artwork mock */
    .track{
      display:grid;
      grid-template-columns:160px 1fr;
      gap:22px;
      padding:24px 26px;
    }
    .art{
      width:100%; aspect-ratio:1/1; border-radius:16px;
      background:
        radial-gradient(120px 60px at 80% 15%, rgba(29,185,84,0.25), transparent 70%),
        linear-gradient(135deg, #20263a, #1a1e2e);
      border:1px solid var(--border);
      display:grid; place-items:center;
      overflow:hidden;
    }
    .art .note{
      width:64px; height:64px; opacity:0.9;
      filter:drop-shadow(0 8px 30px rgba(29,185,84,0.35));
    }
    .meta{
      display:flex; flex-direction:column; gap:8px; justify-content:center;
      min-width:0;
    }
    .title{
      font-size:20px; font-weight:700; white-space:nowrap; overflow:hidden; text-overflow:ellipsis;
    }
    .artist{
      color:var(--muted); font-size:13px; white-space:nowrap; overflow:hidden; text-overflow:ellipsis;
    }

    /* Transport */
    .transport{
      display:grid; gap:12px;
      padding:8px 26px 26px;
    }
    .progress{
      position:relative; height:8px;
      background:#202433; border-radius:999px; cursor:pointer;
    }
    .progress .bar{
      position:absolute; left:0; top:0; height:100%;
      width:0%; background:var(--accent); border-radius:999px;
      box-shadow:0 8px 24px rgba(29,185,84,0.25);
      transition:width .1s linear;
    }
    .time{
      display:flex; justify-content:space-between; align-items:center;
      font-size:12px; color:var(--muted);
    }
    .buttons{
      display:flex; align-items:center; gap:10px; flex-wrap:wrap;
    }
    .btn-icon{
      display:inline-flex; align-items:center; justify-content:center;
      width:40px; height:40px; border-radius:999px;
      background:#202433; color:var(--text);
      border:1px solid #232736;
    }
    .btn-icon:hover{background:#252a3d}
    .btn-play{width:48px; height:48px; background:var(--accent); color:#101613; border:none; box-shadow:0 10px 28px rgba(29,185,84,0.35)}
    .volume{
      display:flex; align-items:center; gap:10px; margin-left:auto;
    }
    .volume input[type="range"]{
      width:140px; accent-color:var(--accent);
    }

    /* Footer / About */
    footer{
      border-top:1px solid var(--border);
      padding:18px 22px;
      display:flex; align-items:center; justify-content:space-between; gap:12px;
      color:var(--muted);
      font-size:13px;
      background:linear-gradient(180deg, rgba(18,19,24,0.65), rgba(18,19,24,0.85));
    }
    .about{
      display:flex; flex-wrap:wrap; gap:10px; align-items:center;
    }
    .about strong{color:var(--text)}
    .links{
      display:flex; gap:10px; flex-wrap:wrap;
    }
    .link{
      color:var(--text); text-decoration:none; border-bottom:1px dotted #3a3f52;
    }

    /* Hidden states */
    .hidden{display:none !important}

    /* Responsive */
    @media (max-width:700px){
      .track{grid-template-columns:120px 1fr}
      .volume input[type="range"]{width:100px}
    }
    @media (max-width:480px){
      .track{grid-template-columns:1fr}
      .art{max-width:260px; justify-self:center}
      .buttons{gap:8px}
      .btn{padding:9px 12px; font-size:13px}
    }
  </style>
</head>
<body>
  <div class="app">
    <!-- Header -->
    <header>
      <div class="logo" aria-hidden="true">
        <!-- Inline music logo -->
        <svg width="22" height="22" viewBox="0 0 24 24" fill="#0e1511" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
          <path d="M9 19c-1.657 0-3-1.343-3-3s1.343-3 3-3c.742 0 1.41.27 1.928.715L11 5.5c0-.828.672-1.5 1.5-1.5H19c.552 0 1 .448 1 1v2c0 .552-.448 1-1 1h-4v8c0 2.209-1.791 4-4 4-1.114 0-2.119-.457-2.839-1.191A2.98 2.98 0 0 1 9 19z"/>
        </svg>
      </div>
      <div class="brand">
        <div class="name">Wonder Streaming</div>
        <div class="tag">Smooth MP3 player by Wonderful Ones Phiri</div>
      </div>
    </header>

    <!-- Main -->
    <main>
      <section class="player-card" aria-label="Wonder Streaming player">
        <!-- Upload / Drop zone -->
        <div class="drop">
          <div class="drop-area" id="dropArea" aria-live="polite">
            <div class="drop-title">Upload your MP3 to start</div>
            <div class="drop-desc">Drag & drop an MP3 file here, or choose from your device.</div>
            <div class="controls-row">
              <button class="btn btn-accent" id="browseBtn">Choose MP3</button>
              <button class="btn btn-ghost" id="demoBtn">Load demo track</button>
            </div>
            <input type="file" id="fileInput" accept="audio/mpeg,audio/mp3" class="hidden" />
          </div>
        </div>

        <!-- Track info -->
        <div class="track hidden" id="trackPanel">
          <div class="art" id="artwork" aria-hidden="true">
            <svg class="note" viewBox="0 0 24 24" fill="#1db954" xmlns="http://www.w3.org/2000/svg">
              <path d="M9 19c-1.657 0-3-1.343-3-3s1.343-3 3-3c.742 0 1.41.27 1.928.715L11 5.5c0-.828.672-1.5 1.5-1.5H19c.552 0 1 .448 1 1v2c0 .552-.448 1-1 1h-4v8c0 2.209-1.791 4-4 4-1.114 0-2.119-.457-2.839-1.191A2.98 2.98 0 0 1 9 19z"/>
            </svg>
          </div>
          <div class="meta">
            <div class="title" id="trackTitle">Untitled track</div>
            <div class="artist" id="trackArtist">Local file • MP3</div>
          </div>
        </div>

        <!-- Transport controls -->
        <div class="transport hidden" id="controlPanel">
          <div class="progress" id="progress">
            <div class="bar" id="progressBar"></div>
          </div>
          <div class="time">
            <span id="currentTime">0:00</span>
            <span id="duration">0:00</span>
          </div>
          <div class="buttons">
            <button class="btn-icon" id="rewindBtn" title="Rewind 10s" aria-label="Rewind 10 seconds">
              <!-- rewind -->
              <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
                <path d="M12 6v2H7v8h10V8h-4V6h6v12H5V6h7zM8 11l3-3v6l-3-3z"/>
              </svg>
            </button>

            <button class="btn-icon btn-play" id="playPauseBtn" title="Play/Pause" aria-label="Play">
              <!-- play -->
              <svg id="playIcon" width="20" height="20" viewBox="0 0 24 24" fill="#0e1511" aria-hidden="true">
                <path d="M8 5v14l11-7z"/>
              </svg>
              <!-- pause (hidden initially) -->
              <svg id="pauseIcon" class="hidden" width="20" height="20" viewBox="0 0 24 24" fill="#0e1511" aria-hidden="true">
                <path d="M6 19h4V5H6v14zm8 0h4V5h-4v14z"/>
              </svg>
            </button>

            <button class="btn-icon" id="forwardBtn" title="Forward 10s" aria-label="Forward 10 seconds">
              <!-- forward -->
              <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
                <path d="M12 6v2h5v8H7V8h4V6H5v12h14V6h-7zM16 11l-3-3v6l3-3z"/>
              </svg>
            </button>

            <button class="btn" id="downloadBtn" title="Download" aria-label="Download track">
              Download
            </button>

            <div class="volume" title="Volume">
              <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
                <path d="M5 10v4h3l4 4V6L8 10H5z"/>
              </svg>
              <input type="range" id="volumeSlider" min="0" max="1" step="0.01" value="1" />
            </div>
          </div>
        </div>

        <!-- Hidden audio element -->
        <audio id="audio" preload="metadata"></audio>
      </section>
    </main>

    <!-- Footer / About -->
    <footer>
      <div class="about">
        <strong>About:</strong>
        <span>Wonder Streaming — crafted by Wonderful Ones Phiri</span>
        <span>• Contact: +265 998615660</span>
      </div>
      <div class="links">
        <a class="link" href="#" onclick="alert('Wonder Streaming — smooth listening.'); return false;">Wonder</a>
        <a class="link" href="#" onclick="alert('Thanks for streaming with Wonder!'); return false;">Thanks</a>
      </div>
    </footer>
  </div>

  <script>
    const audio = document.getElementById('audio');
    const fileInput = document.getElementById('fileInput');
    const browseBtn = document.getElementById('browseBtn');
    const demoBtn = document.getElementById('demoBtn');
    const dropArea = document.getElementById('dropArea');

    const trackPanel = document.getElementById('trackPanel');
    const controlPanel = document.getElementById('controlPanel');
    const titleEl = document.getElementById('trackTitle');
    const artistEl = document.getElementById('trackArtist');

    const playPauseBtn = document.getElementById('playPauseBtn');
    const playIcon = document.getElementById('playIcon');
    const pauseIcon = document.getElementById('pauseIcon');
    const rewindBtn = document.getElementById('rewindBtn');
    const forwardBtn = document.getElementById('forwardBtn');

    const progress = document.getElementById('progress');
    const progressBar = document.getElementById('progressBar');
    const currentTimeEl = document.getElementById('currentTime');
    const durationEl = document.getElementById('duration');
    const volumeSlider = document.getElementById('volumeSlider');
    const downloadBtn = document.getElementById('downloadBtn');

    let objectUrl = null;
    let currentFileName = null;

    function formatTime(sec){
      if (!isFinite(sec)) return '0:00';
      const m = Math.floor(sec/60);
      const s = Math.floor(sec%60);
      return `${m}:${s.toString().padStart(2,'0')}`;
    }

    function showPlayer(){
      trackPanel.classList.remove('hidden');
      controlPanel.classList.remove('hidden');
    }

    function hidePlayer(){
      trackPanel.classList.add('hidden');
      controlPanel.classList.add('hidden');
    }

    function setTitleFromFileName(name){
      const clean = name.replace(/\.[^/.]+$/, '');
      titleEl.textContent = clean || 'Untitled track';
      artistEl.textContent = 'Local file • MP3';
    }

    function loadFile(file){
      if (!file) return;
      if (objectUrl) URL.revokeObjectURL(objectUrl);
      objectUrl = URL.createObjectURL(file);
      currentFileName = file.name || 'track.mp3';
      audio.src = objectUrl;
      setTitleFromFileName(currentFileName);
      downloadBtn.disabled = false;
      downloadBtn.textContent = 'Download';
      showPlayer();
      audio.play().catch(()=>{}); // attempt to auto-play; ignore if blocked
      setPlayState(true);
    }

    function loadDemo(){
      // Small silent MP3 placeholder (data URI). Replace with your hosted demo for GitHub Pages.
      // Note: Some browsers may not like long data URIs; for production use a proper URL.
      const dataUri = "data:audio/mpeg;base64,//uQxA..."; // placeholder
      // Fallback: simulate if data URI omitted
      audio.src = dataUri;
      currentFileName = 'Wonder-demo.mp3';
      setTitleFromFileName(currentFileName);
      downloadBtn.disabled = true;
      downloadBtn.textContent = 'Demo (download disabled)';
      showPlayer();
      audio.play().catch(()=>{});
      setPlayState(true);
    }

    function setPlayState(isPlaying){
      if (isPlaying){
        playIcon.classList.add('hidden');
        pauseIcon.classList.remove('hidden');
        playPauseBtn.setAttribute('aria-label','Pause');
      } else {
        playIcon.classList.remove('hidden');
        pauseIcon.classList.add('hidden');
        playPauseBtn.setAttribute('aria-label','Play');
      }
    }

    // Events
    browseBtn.addEventListener('click', ()=> fileInput.click());
    fileInput.addEventListener('change', (e)=>{
      const file = e.target.files?.[0];
      loadFile(file);
    });

    // Drag & drop
    ['dragenter','dragover'].forEach(evt=>{
      dropArea.addEventListener(evt, (e)=>{
        e.preventDefault(); e.stopPropagation();
        dropArea.classList.add('drag');
      });
    });
    ['dragleave','drop'].forEach(evt=>{
      dropArea.addEventListener(evt, (e)=>{
        e.preventDefault(); e.stopPropagation();
        dropArea.classList.remove('drag');
      });
    });
    dropArea.addEventListener('drop', (e)=>{
      const file = e.dataTransfer?.files?.[0];
      if (file) loadFile(file);
    });

    // Demo button (optional)
    demoBtn.addEventListener('click', ()=>{
      try{ loadDemo(); }catch{ alert('Add a demo MP3 URL in loadDemo() for full experience.'); }
    });

    // Play / Pause
    playPauseBtn.addEventListener('click', ()=>{
      if (audio.paused){ audio.play(); setPlayState(true); }
      else { audio.pause(); setPlayState(false); }
    });

    // Seek via progress bar
    progress.addEventListener('click', (e)=>{
      const rect = progress.getBoundingClientRect();
      const ratio = (e.clientX - rect.left) / rect.width;
      const target = audio.duration * Math.max(0, Math.min(1, ratio));
      audio.currentTime = target;
    });

    // Rewind / Forward 10s
    rewindBtn.addEventListener('click', ()=> audio.currentTime = Math.max(0, audio.currentTime - 10));
    forwardBtn.addEventListener('click', ()=> audio.currentTime = Math.min(audio.duration || 0, audio.currentTime + 10));

    // Volume
    volumeSlider.addEventListener('input', (e)=> audio.volume = parseFloat(e.target.value));

    // Audio time updates
    audio.addEventListener('timeupdate', ()=>{
      currentTimeEl.textContent = formatTime(audio.currentTime);
      const d = audio.duration || 0;
      const ratio = d ? audio.currentTime / d : 0;
      progressBar.style.width = `${ratio*100}%`;
    });

    audio.addEventListener('loadedmetadata', ()=>{
      durationEl.textContent = formatTime(audio.duration);
    });

    audio.addEventListener('ended', ()=>{
      setPlayState(false);
    });

    // Download
    downloadBtn.addEventListener('click', ()=>{
      if (!objectUrl || !currentFileName){ return; }
      const a = document.createElement('a');
      a.href = objectUrl;
      a.download = currentFileName;
      document.body.appendChild(a);
      a.click();
      a.remove();
    });

    // Start hidden until a song is placed
    hidePlayer();
  </script>
</body>
</html>
